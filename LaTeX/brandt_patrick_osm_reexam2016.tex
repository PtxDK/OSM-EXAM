% Document class: article with font size 11pt
% ---------------
\documentclass[11pt,a4paper]{article}

\setlength{\textwidth}{165mm}
\setlength{\textheight}{240mm}
\setlength{\parindent}{0mm} % S{\aa} meget rykkes ind efter afsnit
\setlength{\parskip}{\baselineskip}
\setlength{\headheight}{0mm}
\setlength{\headsep}{0mm}
\setlength{\hoffset}{-2.5mm}
\setlength{\voffset}{0mm}
\setlength{\footskip}{15mm}
\setlength{\oddsidemargin}{0mm}
\setlength{\topmargin}{0mm}
\setlength{\evensidemargin}{0mm}

\usepackage[a4paper, hmargin={2.8cm, 2.8cm}, vmargin={2.5cm, 2.5cm}]{geometry}
\usepackage[super]{nth}
\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}
\usepackage{eso-pic} % \AddToShipoutPicture
\usepackage{float} % This will allow precise picture placement, use [H].
\usepackage{listings}
\usepackage{color}
\usepackage[titletoc,title]{appendix}

% BEGIN REDESIGN OF LSTLISTING:
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}
% END REDESIGN OF LSTLISTING


% Call packages
% ---------------
\usepackage{comment} %Possible to comment larger sections
%http://get-software.net/macros/latex/contrib/comment/comment.pdf
\usepackage[T1]{fontenc} %oriented to output, that is, what fonts to use for printing characters.
\usepackage[utf8]{inputenc} %allows the user to input accented characters directly from the keyboard

%Support Windows TeXStudio
\usepackage[T1]{fontenc}
\usepackage{lmodern}

%http://mirrors.dotsrc.org/ctan/fonts/fourier-GUT/doc/latex/fourier/fourier-doc-en.pdf
\usepackage[english]{babel}														     % Danish
\usepackage[protrusion=true,expansion=true]{microtype}				                 % Better typography
%http://www.khirevich.com/latex/microtype/
\usepackage{amsmath,amsfonts,amsthm, amssymb}							 % Math packages
\usepackage[pdftex]{graphicx} %puts to pdf and graphic
%http://www.kwasan.kyoto-u.ac.jp/solarb6/usinggraphicx.pdf
\usepackage{xcolor,colortbl}
%http://mirrors.dotsrc.org/ctan/macros/latex/contrib/xcolor/xcolor.pdf
%http://texdoc.net/texmf-dist/doc/latex/colortbl/colortbl.pdf
\usepackage{tikz} %documentation http://www.ctan.org/pkg/pgf
\usepackage{parskip} %http://www.ctan.org/pkg/parskip
%http://tex.stackexchange.com/questions/51722/how-to-properly-code-a-tex-file-or-at-least-avoid-badness-10000
%Never use \\ but instead press "enter" twice. See second website for more info

% MATH -------------------------------------------------------------------
\newcommand{\Real}{\mathbb R}
\newcommand{\Complex}{\mathbb C}
\newcommand{\Field}{\mathbb F}
\newcommand{\RPlus}{[0,\infty)}
%
\newcommand{\norm}[1]{\left\Vert#1\right\Vert}
\newcommand{\essnorm}[1]{\norm{#1}_{\text{\rm\normalshape ess}}}
\newcommand{\abs}[1]{\left\vert#1\right\vert}
\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\seq}[1]{\left<#1\right>}
\newcommand{\eps}{\varepsilon}
\newcommand{\To}{\longrightarrow}
\newcommand{\RE}{\operatorname{Re}}
\newcommand{\IM}{\operatorname{Im}}
\newcommand{\Poly}{{\cal{P}}(E)}
\newcommand{\EssD}{{\cal{D}}}
% THEOREMS ----------------------------------------------------------------
\theoremstyle{plain}
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}[thm]{Corollary}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
%
\theoremstyle{definition}
\newtheorem{defn}{Definition}[section]
%
\theoremstyle{remark}
\newtheorem{rem}{Remark}[section]
%
\numberwithin{equation}{section}
\renewcommand{\theequation}{\thesection.\arabic{equation}}


\author{
  \Large{
    Brandt, Patrick Kr√∏ll - bwx155} \\
   \\
   %\Large{ }
}
\title{
  \huge{OSM 2016 \\}
  \Large{Operating systems and multiprogramming \\}
  \vspace{3cm}
  \Large{OSM Re-Exam}
}

\begin{document}

\AddToShipoutPicture*{\put(0,0){\includegraphics*[viewport=0 0 700 600]{include/natbio-farve}}}
\AddToShipoutPicture*{\put(0,602){\includegraphics*[viewport=0 600 700 1600]{include/natbio-farve}}}

\AddToShipoutPicture*{\put(0,0){\includegraphics*{include/nat-en}}}

\clearpage\maketitle
\thispagestyle{empty}
\clearpage\newpage
\thispagestyle{plain}

% \tableofcontents
% \pagebreak

%<<--------------------------------------------------------------->>
\section*{Introduction}




%<<--------------------------------------------------------------->>
\section*{Theoretical 1: Critical Intersection}




\begin{lstlisting}[language=XML,caption={Example Code},label={lst:ex_code1}]
<xml xmlns="http://www.w3.org/1999/xhtml">
<block type="osm16_1st_reexam_sem_decl" id="=i]`7Yfm+C`amm5V{R)T" deletable="false" movable="false" x="0" y="0">
<statement name="DECL">
<block type="osm16_sem_t_arr" id="s)Q54N]Ib+};V^^Nm3LB">
<field name="VARNAME">Roads_sems</field>
<value name="N">
<block type="osm16_varget" id="?I#*Oqxa;nRVrF^yg.ig">
<field name="VARNAME">n</field>
</block>
</value>
</block>
</statement>
<next>
<block type="osm16_1st_reexam_sem_init" id="fy8HcTz]S):(s?IDO-S@" deletable="false" movable="false">
<statement name="INIT">
<block type="osm16_for" id="X/{/gewkOFY]..v6d;9h">
<field name="VARNAME">j</field>
<value name="END">
<block type="osm16_varget" id="IE2nq.~9Cur7/obz?XR(">
<field name="VARNAME">n</field>
</block>
</value>
</block>
</statement>
<next>
<block type="osm16_1st_reexam_sem_intersection" id="Z7()sd`KQ{}HI7NX?R*B" deletable="false" movable="false">
<statement name="INTERSECTION">
<block type="osm16_infloop" id="AY)uT6v]A7l5s~B*EdT+"></block>
</statement>
<next>
<block type="osm16_1st_reexam_sem_vehicle" id="@TW]BA^706@FR*5Y-1o4" deletable="false" movable="false">
<field name="VARNAME">i</field>
<statement name="VEHICLE">
<block type="osm16_sem_P" id="rpm%P5Gz)vKI7s{gsmy%">
<value name="SEMAPHORE">
<block type="osm16_varget" id="390c:v).:?GTn`O!I_sC">
<field name="VARNAME">i</field>
</block>
</value>
<next>
<block type="osm16_sem_V" id="%c,*6PBeU:z]m:N|8(ZK">
<value name="SEMAPHORE">
<block type="osm16_varget" id="ewl,Iny8iM#/S[u8lI=E">
<field name="VARNAME">i</field>
</block>
</value>
</block>
</next>
</block>
</statement>
</block>
</next>
</block>
</next>
</block>
</next>
</block>
<block type="osm16_sem_init" id="}duOpxx^wtr^scM5a=|A" x="187" y="149"></block>
</xml>
\end{lstlisting}

\section*{Theoretical 2: Scheduling}

\begin{table}[H]
	\centering
	\caption{Basic Info Table}
	\label{sch-basic}
	\begin{tabular}{lll}
		\hline
		\multicolumn{1}{|l|}{PID} & \multicolumn{1}{l|}{AT} & \multicolumn{1}{l|}{BT} \\ \hline
		1                         & 0                       & 100                     \\
		2                         & 1                       & 10                      \\
		3                         & 2                       & 20                      \\
		4                         & 3                       & 1                       \\
		5                         & 10                      & 1                       \\
		6                         & 20                      & 100                    
	\end{tabular}
\end{table}


Completion time was found with: $PreviousCT+RemainingBT$

Turnaround time was found with $TAT = CT-AT$

Waiting/response time was found with $WT = TAT-BT$


\subsection*{First in First out (FIFO)} % First Come First Serve (FCFS)

It has been assumed that arriving jobs should be served according to arrival time.

\begin{table}[H]
	\centering
	\caption{FIFO}
	\label{t2-fifo}
	\begin{tabular}{llllll}
		\hline
		\multicolumn{1}{|l|}{PID} & \multicolumn{1}{l|}{AT} & \multicolumn{1}{l|}{BT} & \multicolumn{1}{l|}{CT} & \multicolumn{1}{l|}{TAT} & \multicolumn{1}{l|}{WT} \\ \hline
		1                         & 0                       & 100                     & 100                     & 100                      & 0                       \\
		2                         & 1                       & 10                      & 110                     & 109                      & 99                      \\
		3                         & 2                       & 20                      & 130                     & 128                      & 108                     \\
		4                         & 3                       & 1                       & 131                     & 128                      & 127                     \\
		5                         & 10                      & 1                       & 131                     & 122                      & 121                     \\
		6                         & 20                      & 100                     & 232                     & 212                      & 112                    
	\end{tabular}
\end{table}

Thus the average turnaround time will be $100+109+128+128+122+212/6=~133.1667$

And the average response time also called waiting time will be $0+99+108+127+121+112/6=94.5$

\subsection*{Shortest Job First (SJF)}

\begin{table}[H]
	\centering
	\caption{SJF}
	\label{t2-sjf}
	\begin{tabular}{llllll}
		\hline
		\multicolumn{1}{|l|}{PID} & \multicolumn{1}{l|}{AT} & \multicolumn{1}{l|}{BT} & \multicolumn{1}{l|}{CT} & \multicolumn{1}{l|}{TAT} & \multicolumn{1}{l|}{WT} \\ \hline
		1                         & 0                       & 100                     & 100                     & 100                      & 0                       \\
		2                         & 1                       & 10                      & 112                     & 111                      & 101                     \\
		3                         & 2                       & 20                      & 132                     & 130                      & 110                     \\
		4                         & 3                       & 1                       & 101                     & 98                       & 97                      \\
		5                         & 10                      & 1                       & 102                     & 92                       & 91                      \\
		6                         & 20                      & 100                     & 232                     & 212                      & 112                    
	\end{tabular}
\end{table}


The average turnaround time will be $110+111+130+98+92+212/6=~123.83$

And the average response time will be

$0+101+110+97+91+112/6=~85.167$


\subsection*{Shortest Time to Completion First (STCF)}

\begin{table}[H]
	\centering
	\caption{STCF}
	\label{t2-stcf}
	\begin{tabular}{llllll}
		\hline
		\multicolumn{1}{|l|}{PID} & \multicolumn{1}{l|}{AT} & \multicolumn{1}{l|}{BT} & \multicolumn{1}{l|}{CT} & \multicolumn{1}{l|}{TAT} & \multicolumn{1}{l|}{WT} \\ \hline
		1                         & 0                       & 100                     & 132                     & 132                      & 32                      \\
		2                         & 1                       & 10                      & 13                      & 12                       & 2                       \\
		3                         & 2                       & 20                      & 33                      & 31                       & 11                      \\
		4                         & 3                       & 1                       & 4                       & 1                        & 0                       \\
		5                         & 10                      & 1                       & 11                      & 1                        & 0                       \\
		6                         & 20                      & 100                     & 232                     & 132                      & 32                     
	\end{tabular}
\end{table}

The average turnaround time will be $132+12+31+1+1+212/6=~64.834$

And the average response time will be $32+2+11+0+0+112/6=~26.167$

\subsection*{Round Robin (RR)}

timeslice is assumed to also mean timequantum with a time cutting off process each one second.

\begin{table}[H]
    \centering
    \caption{RR}
    \label{t2-rr}
    \begin{tabular}{llllll}
        \hline
        \multicolumn{1}{|l|}{PID} & \multicolumn{1}{l|}{AT} & \multicolumn{1}{l|}{BT} & \multicolumn{1}{l|}{CT} & \multicolumn{1}{l|}{TAT} & \multicolumn{1}{l|}{WT} \\ \hline
        1                         & 0                       & 100                     & 228                     & 228                      & 128                     \\
        2                         & 1                       & 10                      & 36                      & 35                       & 25                      \\
        3                         & 2                       & 20                      & 71                      & 69                       & 49                      \\
        4                         & 3                       & 1                       & 6                       & 3                        & 2                       \\
        5                         & 10                      & 1                       & 13                      & 3                        & 2                       \\
        6                         & 20                      & 100                     & 235                     & 215                      & 115                    
    \end{tabular}
\end{table}

The average turnaround time will be $228+35+69+3+3+215/6=~92.167$

And the average response time will be $128+25+49+2+2+115/6=~53.5$

If there is found mistakes in this particular algorithm pictures of run by hand can be found in appendix.



\section*{Theoretical 3: FAT-based file systems}

\subsection*{a) Allocate a file F1 of size 5,000 bytes. Show the FAT table}


\begin{figure}[H]
    \caption{F1 of 5,000 bytes}
    \centering
    \includegraphics[scale=0.5]{figures/t3-a.png}
\end{figure}



\subsection*{b) Allocate a file F2 of size 20,000 bytes. Show the FAT table}

\begin{figure}[H]
    \caption{F1 of 5,000 bytes}
    \centering
    \includegraphics[scale=0.5]{figures/t3-b.png}
\end{figure}




\subsection*{c) Extend F1 with an additional 5,000 bytes. Show the FAT table}

\begin{figure}[H]
    \caption{F1 of 5,000 bytes}
    \centering
    \includegraphics[scale=0.5]{figures/t3-c.png}
\end{figure}



\subsection*{d) Shorten F2 to 10,000 bytes. Show the FAT table}





\subsection*{e) Allocate a file F3 of size 20,000 bytes. Show the FAT table}




\subsection*{f) How much space (in bytes) can the FAT manage in total?}
% Assuming one block for the FAT, how much space (in bytes) can we
Assuming one block of the FAT system to simply be as stated in the given text 4096.

The answer will be block $4096$ subtracted with pointer of $4$ bytes $= 4092$




\subsection*{g) What are some problems with caching the FAT?}
\textit{Using FAT can result in a significant number of disk seeks, unless the FAT is cached. What are some problems with caching the FAT? Contrast this with caching the directory control block.}


\section*{Practical 1: Monitors in KUDOS}




\section*{Practical 2: Bunny Allocation}



\section*{Appendix}




%\newpage
%\bibliography{mybib}
%\bibliographystyle{ieeetr}
\end{document}
